<mat-spinner class="loading" *ngIf="loading === true"></mat-spinner>

<div *ngIf="loading === false">
  <div class="header">

    <mat-form-field class="datePicker">
      <input matInput readonly (click)="dp.open()" [matDatepicker]="dp" placeholder="Mes" [formControl]="currentDate">
      <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
      <mat-datepicker #dp
                      startView="year"
                      (monthSelected)="chosenMonthHandler($event, dp)"
                      panelClass="example-month-picker">
      </mat-datepicker>
    </mat-form-field>
    
    <app-saldo [titulo]="'Saldo Mensual'" [saldo]="getIngresos() - getEgresos()" (saldoClicked)="showOpenSaldo()"></app-saldo>    
  </div>

  <div class="tableContent">
    <mat-accordion class="conceptos-table">
      <mat-expansion-panel *ngFor="let ct of conceptosTotales" >
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ct.descripcion}}
          </mat-panel-title>
          <mat-panel-description [class.importeNegativo]="ct.saldo < 0">
            {{ct.saldo | currency:this._userService.getMoneda()}}
          </mat-panel-description>
        </mat-expansion-panel-header>
    
        <mat-form-field>
          <input matInput placeholder="First name">
        </mat-form-field>
    
        <mat-form-field>
          <input matInput placeholder="Age">
        </mat-form-field>
      </mat-expansion-panel>      
    </mat-accordion>

  </div>
</div>
<!--
<app-error-message *ngIf="errorMessage.length != 0 && loading === false" [message]="errorMessage"></app-error-message>
<app-loading *ngIf="loading === true" [texto]="'Cargando...'"></app-loading>

<div *ngIf="loading === false && errorMessage.length == 0" class="content">
  <div class="sumaryGral">
    <div class="combos">
      <select #selectMes (change)="changeMes(selectMes.value)">
        <option *ngFor="let mes of meses" [value]="mes.numero" [selected]="mes.numero == mesActual.numero">
            {{mes.nombre}}
        </option>
      </select>

      <select #selectAnio (change)="changeAnio(selectAnio.value)">
        <option *ngFor="let anio of anios" [value]="anio" [selected]="anio == anioActual">
            {{anio}}
        </option>
      </select>
    </div>
    <app-sumarymes [fecha]="bsValue" [sumaryMonth]="sumMonth" (LoadingStatus)="childLoadingStatus($event)" [displayTitle]="true"> </app-sumarymes>
    <app-sumaryanio [fecha]="bsValue" [sumaryAnio]="sumAnio" (LoadingStatus)="childLoadingStatus($event)" [displayTitle]="true"> </app-sumaryanio>
  </div>

  <div class="conceptos">
      <accordion>
          <accordion-group *ngFor="let ct of conceptosTotales" 
                          #group 
                          (isOpenChange)="loadDetail($event, ct)">
            <div accordion-heading class="clearfix">
                <i class="glyphicon glyphicon-chevron-down"></i>
              {{ct.descripcion}}
              <span class="float-right pull-right" [class.importeNegativo]="ct.saldo < 0">
                {{ct.saldo | currency:this._userService.getMoneda()}}
              </span>
            </div>
            <div>
              <table class="table" *ngIf="ct.dataAdic !== undefined">
                  <tbody>
                    <tr *ngFor="let data of ct.dataAdic" class="detalleConcepto">
                      <td class="cellDetalleConcepto">{{data.fecha | date:'mediumDate'}}</td>
                      <td class="importe cellDetalleConcepto"
                          [class.importeNegativo]="data.importe < 0">
                          {{data.importe | currency:this._userService.getMoneda()}}
                      </td>
                    </tr>
                  </tbody>
                </table>
                <app-loading *ngIf="ct.dataAdic === undefined" [texto]="'Cargando...'"></app-loading>
            </div>
          </accordion-group>
        </accordion>        
  </div>
</div>
-->