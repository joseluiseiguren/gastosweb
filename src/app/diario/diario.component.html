<link rel="stylesheet" href="https://unpkg.com/ngx-bootstrap/datepicker/bs-datepicker.css">

<div class="right">
  <app-sumarydia [fecha]="bsValue" [conceptosDiarios]="conceptos"></app-sumarydia>
  <app-sumarymes [fecha]="bsValue" [sumaryMonth]="sumMonth"> </app-sumarymes>
</div>


<div class="left">
  <div class="fechaHolder">
    <input type="text"
            class="form-control fecha"
            #dp="bsDatepicker"
            bsDatepicker 
            (ngModelChange)="changeDay($event)"
            [ngModel]="bsValue">
  </div>
  
  <table *ngIf="conceptos!==undefined" class="table">
    <thead>
      <tr>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr id="tr{{item.concepto.id}}" *ngFor="let item of conceptos; let odd=odd; let even=even;" 
          (click)="openModal(template, item)"
          [class.info]="odd"
          [class.success]="even">
        <td>{{item.concepto.descripcion}}</td>
        <td class="importe"
            [class.importeNegativo]="item.importe < 0 || item.concepto.suma === false">
            {{item.importe | currency}}
        </td>
      </tr>
    </tbody>
  </table>
</div>

<ng-template #template>
  <div class="modal-body text-center">
    <p>{{conceptoSel.concepto.descripcion}}</p>

    <input #importe2 
            autofocus
            name="importe" 
            class="form-control"
            [class.importeNegativo]="!nuevoDebCred" 
            currencyMask
            [(ngModel)]="nuevoImporte" 
            (keyup.enter)="confirm()"
            (click)="importe2.select()" />
      <br/>
      <table width="100%">
          <thead>
            <tr>
              <th class="debito">
                <label for="creditoopt">Credito</label>
                <input type="radio" 
                       id="creditoopt" 
                       name="debcred" 
                       (click)="changeNuevoDebCred(true)"
                       [checked]="nuevoDebCred === true">
              </th>
              <th class="debito importeNegativo">
                <label for="debitoopt">Debito</label>
                <input type="radio" 
                       id="debitoopt" 
                       name="debcred"
                       (click)="changeNuevoDebCred(false)"
                       [checked]="nuevoDebCred === false">
              </th>
            </tr>
          </thead>
        </table>
      <br/>
      <button type="submit" class="btn btn-success" (click)="confirm()" >Aceptar</button>
  </div>
</ng-template>
