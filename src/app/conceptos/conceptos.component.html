<mat-spinner class="loading" *ngIf="loading === true"></mat-spinner>

<div *ngIf="loading === false">
    <div class="tableContent">

        <table mat-table [dataSource]="conceptos" class="mat-elevation-z8 conceptos-table">
        
            <ng-container matColumnDef="concepto">
            <th mat-header-cell *matHeaderCellDef>Concepto</th>
            <td mat-cell *matCellDef="let element"> {{element.descripcion}} </td>
            </ng-container>

            <ng-container matColumnDef="tipo">
                <th mat-header-cell *matHeaderCellDef>Tipo</th>
                <td mat-cell 
                    *matCellDef="let element"
                    [class.importeNegativo]="element.credito == false">
                    {{element.credito == true ? 'Crédito' : 'Débito' }}
                </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="openConceptoDialog(row)"></tr>
            
        </table>
    </div>

    <button mat-fab color="primary" matTooltip="Agregar Nuevo Concepto" class="addButton" (click)="openConceptoDialog()">
        <mat-icon>add</mat-icon>
    </button>
</div>


<!--
<app-loading *ngIf="loadingGridConceptos === true" [texto]="'Cargando...'"></app-loading>
<app-error-message *ngIf="errorMessageGridConceptos.length != 0 && loadingGridConceptos === false" [message]="errorMessageGridConceptos"></app-error-message>

<div *ngIf="loadingGridConceptos === false && errorMessageGridConceptos.length == 0">
    
    <div class="conceptosTable" *ngIf="conceptos!==undefined">
        <table class="table">
            <thead class="conceptosTableHeader">
            <tr>
                <th>Concepto</th>
                <th>Tipo</th>
            </tr>
            </thead>
            <tbody>
            <tr id="tr{{item._id}}" *ngFor="let item of conceptos;" 
                (click)="cambiarPantalla(2, item);">
                <td [class.importeNegativo]="item.credito == false">
                {{item.descripcion}}
                </td>
                <td [class.importeNegativo]="item.credito == false">
                    {{(item.credito == true) ? 'Credito' : 'Debito'}}
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="addNew">
        <button class="btn btn-info" (click)="cambiarPantalla(1, null);">
            <span class="glyphicon glyphicon-plus"></span>
            Agregar Nuevo
        </button>
    </div>

    <div *ngIf="pantallaActual == 1 || pantallaActual == 2" class="forms">
    <form (ngSubmit)="aceptar(conceptoForm)" #conceptoForm="ngForm" novalidate>
        <div class="formsTitulo"><h3>{{pantallaTitulo}}</h3></div> 
        <div class="form-group">
            <div class="inner-addon left-addon">
                <input type="text" 
                        class="form-control" 
                        required
                        autofocus
                        [(ngModel)]="model.descripcion" 
                        name="descripcion"
                        placeholder="Descripcion"
                        #descripcion="ngModel"
                        #spy/>
                <div [hidden]="descripcion.valid || descripcion.pristine" class="alert alert-danger">
                        Ingresar la Descripcion
                </div>
                
            </div>
        </div>
        
        <div class="form-group">
            <div class="inner-addon left-addon">
                <label for="creditoopt">Credito</label>  
                <input type="radio" 
                        id="creditoopt" 
                        name="debcred"
                        (click)="changeCredDeb(true)"  
                        [checked]="model.suma === true">
                
                <div class="float-right pull-right" >
                    <label class="importeNegativo" for="debitoopt">Debito</label>  
                    <input type="radio"
                            id="debitoopt" 
                            name="debcred"
                            (click)="changeCredDeb(false)"  
                            [checked]="model.suma === false">
                </div>
            </div>
        </div>

        <div class="form-group center">
            <button type="submit"
                    [disabled]="loading" 
                    class="btn btn-success"
                    [disabled]="!conceptoForm.form.valid">
                <span class="glyphicon glyphicon-ok"></span>
                Aceptar
            </button>
            <button class="btn btn-danger" (click)="cambiarPantalla(0, null);">
                <span class="glyphicon glyphicon-remove"></span>
                Cerrar
            </button>
            <app-loading *ngIf="loading === true" [texto]="''"></app-loading>
        </div>
    </form>
    <div class="col-lg-12 col-sm-12 col-xs-12 alert alert-success" 
        *ngIf="operationMessageStatus == 0 && operationMessage.length > 0 && conceptoForm.pristine === true && loading === false">
        <strong>{{operationMessage}}</strong>
    </div>
    <app-error-message *ngIf="operationMessageStatus == 1 && operationMessage.length > 0 && loading === false" [message]="operationMessage"></app-error-message>

    </div>
</div>
-->